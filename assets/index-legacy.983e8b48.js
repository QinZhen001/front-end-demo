System.register(["./index-legacy.45affc35.js"],(function(e){"use strict";var t,o,n;return{setters:[function(e){t=e.r,o=e.a,n=e.j}],execute:function(){const s=["click","touchstart","mousedown","keydown"];e("default",(()=>{const{getLast:e}=(()=>{const e=t.exports.useRef(),[o,n]=t.exports.useState();t.exports.useEffect((()=>(c(),()=>a())),[]);const r=t=>{e.current=t,n(t)},c=()=>{s.forEach((e=>{document.addEventListener(e,r,{capture:!0,passive:!1})}))},a=()=>{s.forEach((e=>{document.removeEventListener(e,r)}))};return{last:o,getLast:()=>e.current}})();t.exports.useLayoutEffect((()=>{r()}),[]);const r=()=>{PerformanceObserver&&new PerformanceObserver((t=>{t.getEntries().forEach((t=>{if(t.duration>100){const o=e();requestIdleCallback((()=>{var e;e={type:"longTask",eventType:null==o?void 0:o.type,startTime:t.startTime,duration:t.duration,selector:null==o?void 0:o.target},console.log("[mock send]: ",e)}))}}))})).observe({entryTypes:["longtask"]})};return o("div",{children:[n("button",{onClick:()=>{console.log("test1")},children:"test1"}),n("button",{onClick:()=>{console.log("test2")},children:"test2"}),n("button",{onClick:()=>{let e=Date.now();console.log("longTask开始 start",e),console.log("longTask结束 end",Date.now())},children:"add long task"})]})}))}}}));
