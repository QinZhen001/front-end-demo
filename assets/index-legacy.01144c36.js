System.register(["./index-legacy.9b48566a.js"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.r,n=e.a,r=e.j}],execute:function(){let o,c,l=0;const u=()=>{const e=t.exports.useRef(null),u=t.exports.useRef(null);function i(){var e,t;requestAnimationFrame(i),c.getByteFrequencyData(o);const n=u.current.getContext("2d"),r=(null===(e=u.current)||void 0===e?void 0:e.width)||0,a=(null===(t=u.current)||void 0===t?void 0:t.height)||0;let s,d,f,g,v;null==n||n.clearRect(0,0,r,a);for(let c=0,u=0;c<l;c++)s=o[c],d=r/l*2,f=s+c/l*25,g=c/l*250,v=50,n.fillStyle="rgb("+f+","+g+",50)",null==n||n.fillRect(u,a-s,d,s),u+=d+2}return t.exports.useEffect((()=>{console.log("ref",e),e.current&&(e.current.onchange=function(e){var t;const n=null===(t=e.target)||void 0===t?void 0:t.files[0],r=new FileReader;r.readAsArrayBuffer(n),r.onload=e=>{var t;console.log("evt",e);const n=null===(t=e.currentTarget)||void 0===t?void 0:t.result,r=new AudioContext;r.decodeAudioData(n,(e=>{const t=r.createBufferSource();t.buffer=e,console.log("dataSource",t),c=function(e,t){console.log("context",e);const n=e.createAnalyser();return n.fftSize=512,t.connect(n),n.connect(e.destination),n}(r,t),l=c.frequencyBinCount,console.log("analyser",c),o=new Uint8Array(l),t.start(),i()}))}})}),[]),n("div",{children:[r("input",{id:"audioFile",ref:e,type:"file",accept:"audio/*"}),r("canvas",{ref:u,width:"500",height:"300"})]})};e({AudioApi:u,default:u})}}}));
