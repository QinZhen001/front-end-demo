import{a as h,j as c}from"./index.19731877.js";let t=new AbortController;const{signal:n}=t,l="https://jsonplaceholder.typicode.com/todos/1";function d({signal:e}){return new Promise((r,o)=>{e==null||e.throwIfAborted(),setTimeout(()=>{Math.random()>.5?r("ok"):o(new Error("not good"))},1e3),e==null||e.addEventListener("abort",()=>o(e==null?void 0:e.reason))})}const C=()=>h("div",{children:[c("button",{onClick:()=>{fetch(l,{signal:n}).then(o=>o.json()).then(o=>console.log(o)).catch(o=>{console.error(o);const{code:s,name:u,message:m}=o;console.log(s,u,m)}),setTimeout(()=>{t.abort()},10)},children:"fetch"}),c("button",{onClick:async()=>{d({signal:n}).then(o=>console.log(o),o=>console.error(o)),setTimeout(()=>{t.abort()},20)},children:"\u53EF\u4EE5\u4E3B\u52A8\u53D6\u6D88\u7684 Promise"})]});export{C as default};
