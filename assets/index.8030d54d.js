var d=Object.defineProperty;var x=(s,e,r)=>e in s?d(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var o=(s,e,r)=>(x(s,typeof e!="symbol"?e+"":e,r),r);import{r as f,a as l,j as c}from"./index.5bd7d4ed.js";function S(s){return s.length==0?e=>e:s.length===1?s[0]:e=>s.reduce((r,u)=>u(r),e)}function m(s){return e=>new p(r=>e.subscribe({next(i){return r.next(s(i))},error(i){r.error(i)},complete(){r.complete()}}))}class p{constructor(e){o(this,"_subscribe");this._subscribe=e}subscribe(e){const r=new C(e);return r.add(this._subscribe(r)),r}pipe(...e){return S(e)(this)}}class v{constructor(){o(this,"_teardowns");this._teardowns=[]}unsubscribe(){this._teardowns.forEach(e=>{typeof e=="function"?e():e.unsubscribe()})}add(e){e&&this._teardowns.push(e)}}class C extends v{constructor(r){super();o(this,"observer");o(this,"isStopped");this.observer=r,this.isStopped=!1}next(r){this.observer.next&&!this.isStopped&&this.observer.next(r)}error(r){this.isStopped=!0,this.observer.error&&this.observer.error(r)}complete(){this.isStopped=!0,this.observer.complete&&this.observer.complete(),this.unsubscribe&&this.unsubscribe()}}let b,n;const w=()=>{const[s,e]=f.exports.useState(0);return l("div",{className:"rx-js",children:["RxJS",l("div",{children:["current: ",s]}),c("button",{onClick:()=>{b||(b=new p(t=>{let a=0;const h=setInterval(()=>{t.next(++a)},1e3);return function(){clearInterval(h)}}))},children:"Create Observable"}),c("button",{onClick:()=>{n||(n=b.subscribe({next:t=>{console.log("next",t),e(t)},error:t=>console.error(t),complete:()=>console.log("complete")}))},children:"Subscribe"}),c("button",{onClick:()=>{n||(n=b.pipe(m(t=>t*t)).subscribe({next:t=>{console.log("pipe next",t),e(t)},error:t=>console.error(t),complete:()=>console.log("complete")}))},children:"Subscribe Pipe"}),c("button",{onClick:()=>{n.unsubscribe()},children:"Unsubscribe"})]})};export{w as RxJS,w as default};
