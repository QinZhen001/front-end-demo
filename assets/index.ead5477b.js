import{r as h,a as u,j as n}from"./index.488414b2.js";function d(s){return s.length==0?e=>e:s.length===1?s[0]:e=>s.reduce((t,b)=>b(t),e)}function v(s){return e=>new l(t=>e.subscribe({next(o){return t.next(s(o))},error(o){t.error(o)},complete(){t.complete()}}))}class l{constructor(e){this._subscribe=void 0,this._subscribe=e}subscribe(e){const t=new f(e);return t.add(this._subscribe(t)),t}pipe(...e){return d(e)(this)}}class x{constructor(){this._teardowns=void 0,this._teardowns=[]}unsubscribe(){this._teardowns.forEach(e=>{typeof e=="function"?e():e.unsubscribe()})}add(e){e&&this._teardowns.push(e)}}class f extends x{constructor(e){super(),this.observer=void 0,this.isStopped=void 0,this.observer=e,this.isStopped=!1}next(e){this.observer.next&&!this.isStopped&&this.observer.next(e)}error(e){this.isStopped=!0,this.observer.error&&this.observer.error(e)}complete(){this.isStopped=!0,this.observer.complete&&this.observer.complete(),this.unsubscribe&&this.unsubscribe()}}let c,i;const _=()=>{const[s,e]=h.exports.useState(0);return u("div",{className:"rx-js",children:["RxJS",u("div",{children:["current: ",s]}),n("button",{onClick:()=>{c||(c=new l(r=>{let p=0;const a=setInterval(()=>{r.next(++p)},1e3);return function(){clearInterval(a)}}))},children:"Create Observable"}),n("button",{onClick:()=>{i||(i=c.subscribe({next:r=>{console.log("next",r),e(r)},error:r=>console.error(r),complete:()=>console.log("complete")}))},children:"Subscribe"}),n("button",{onClick:()=>{i||(i=c.pipe(v(r=>r*r)).subscribe({next:r=>{console.log("pipe next",r),e(r)},error:r=>console.error(r),complete:()=>console.log("complete")}))},children:"Subscribe Pipe"}),n("button",{onClick:()=>{i.unsubscribe()},children:"Unsubscribe"})]})};export{_ as RxJS,_ as default};
