System.register(["./index-legacy.cebc1841.js"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.r,n=e.j}],execute:function(){var r={exports:{}},o={};
/** @license React v0.20.2
       * scheduler.production.min.js
       *
       * Copyright (c) Facebook, Inc. and its affiliates.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */
!function(e){var t,n,r,o;if("object"==typeof performance&&"function"==typeof performance.now){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,s=null,c=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(n){throw setTimeout(c,0),n}};t=function(e){null!==u?setTimeout(t,0,e):(u=e,setTimeout(c,0))},n=function(e,t){s=setTimeout(e,t)},r=function(){clearTimeout(s)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var b=!1,y=null,m=-1,v=5,h=0;e.unstable_shouldYield=function(){return e.unstable_now()>=h},o=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,w=_.port2;_.port1.onmessage=function(){if(null!==y){var t=e.unstable_now();h=t+v;try{y(!0,t)?w.postMessage(null):(b=!1,y=null)}catch(n){throw w.postMessage(null),n}}else b=!1},t=function(e){y=e,b||(b=!0,w.postMessage(null))},n=function(t,n){m=f((function(){t(e.unstable_now())}),n)},r=function(){d(m),m=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<P(o,t)))break e;e[r]=t,e[n]=o,n=r}}function x(e){return void 0===(e=e[0])?null:e}function g(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var l=2*(r+1)-1,i=e[l],a=l+1,u=e[a];if(void 0!==i&&0>P(i,n))void 0!==u&&0>P(u,i)?(e[r]=u,e[a]=n,r=a):(e[r]=i,e[l]=n,r=l);else{if(!(void 0!==u&&0>P(u,n)))break e;e[r]=u,e[a]=n,r=a}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],I=1,E=null,F=3,M=!1,q=!1,N=!1;function j(e){for(var t=x(C);null!==t;){if(null===t.callback)g(C);else{if(!(t.startTime<=e))break;g(C),t.sortIndex=t.expirationTime,k(T,t)}t=x(C)}}function L(e){if(N=!1,j(e),!q)if(null!==x(T))q=!0,t(S);else{var r=x(C);null!==r&&n(L,r.startTime-e)}}function S(t,o){q=!1,N&&(N=!1,r()),M=!0;var l=F;try{for(j(o),E=x(T);null!==E&&(!(E.expirationTime>o)||t&&!e.unstable_shouldYield());){var i=E.callback;if("function"==typeof i){E.callback=null,F=E.priorityLevel;var a=i(E.expirationTime<=o);o=e.unstable_now(),"function"==typeof a?E.callback=a:E===x(T)&&g(T),j(o)}else g(T);E=x(T)}if(null!==E)var u=!0;else{var s=x(C);null!==s&&n(L,s.startTime-o),u=!1}return u}finally{E=null,F=l,M=!1}}var A=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){q||M||(q=!0,t(S))},e.unstable_getCurrentPriorityLevel=function(){return F},e.unstable_getFirstCallbackNode=function(){return x(T)},e.unstable_next=function(e){switch(F){case 1:case 2:case 3:var t=3;break;default:t=F}var n=F;F=t;try{return e()}finally{F=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=A,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=F;F=e;try{return t()}finally{F=n}},e.unstable_scheduleCallback=function(o,l,i){var a=e.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,o){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return o={id:I++,callback:l,priorityLevel:o,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>a?(o.sortIndex=i,k(C,o),null===x(T)&&o===x(C)&&(N?r():N=!0,n(L,i-a))):(o.sortIndex=u,k(T,o),q||M||(q=!0,t(S))),o},e.unstable_wrapCallback=function(e){var t=F;return function(){var n=F;F=t;try{return e.apply(this,arguments)}finally{F=n}}}}(o),r.exports=o;const l=[r.exports.unstable_ImmediatePriority,r.exports.unstable_UserBlockingPriority,r.exports.unstable_NormalPriority,r.exports.unstable_LowPriority],i=["noop","ImmediatePriority","UserBlockingPriority","NormalPriority","LowPriority","IdlePriority"];let a,u=document.querySelector("#react-scheduler"),s=[],c=r.exports.unstable_IdlePriority;const f=()=>{console.log("schedule--------");const e=r.exports.unstable_getFirstCallbackNode(),t=s.sort(((e,t)=>e.priority-t.priority))[0];if(!t)return a=null,void(e&&r.exports.unstable_cancelCallback(e));const{priority:n}=t;n!==c&&(e&&r.exports.unstable_cancelCallback(e),a=r.exports.unstable_scheduleCallback(n,d.bind(null,t)))},d=(e,t)=>{const n=e.priority===r.exports.unstable_ImmediatePriority||t;for(;(n||!r.exports.unstable_shouldYield())&&e.count;)e.count--,p(e.priority);if(c=e.priority,!e.count){const t=s.indexOf(e);s.splice(t,1),c=r.exports.unstable_IdlePriority}const o=a;if(f(),a&&o===a)return d.bind(null,e)},p=e=>{if(u){const t=document.createElement("span");t.innerText=`${i[e]} `,t.className=`pri-${e}`,u.appendChild(t)}},b=()=>(t.exports.useEffect((()=>((()=>{l.forEach((e=>{const t=document.createElement("button");u||(u=document.querySelector("#react-scheduler")),u.appendChild(t),t.id=`btn-${e}`,t.innerText=i[e],t.onclick=()=>{s.push({priority:e,count:100}),f()}}));const e=document.createElement("button");u.appendChild(e),e.innerText="clear task",e.onclick=()=>{u=document.querySelector("#react-scheduler");const e=u.getElementsByTagName("span");console.log("spans",e,e.length);for(let t of e)u.removeChild(t)}})(),()=>{u&&l.forEach((e=>{const t=document.querySelector(`#btn-${e}`);t&&u.removeChild(t)}))})),[]),n("div",{id:"react-scheduler",children:n("div",{children:"React核心调度功能"})}));e({Scheduler:b,default:b})}}}));
