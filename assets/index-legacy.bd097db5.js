System.register(["./index-legacy.eef37416.js"],(function(e){"use strict";var i;return{setters:[function(e){i=e.j}],execute:function(){const t=navigator.userAgent,d="android",n={isJSBridgeAPPDemo:!!/JSBridgeDemoUserAgent/.test(t),device:function(){var e={type:null,version:null};if(/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(t)){e.type="ios";var i=/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/.exec(t);i&&i[0]&&(e.version=i[0].replace(/_/g,"."))}else if(/Android/i.test(t)){e.type=d;var n=t.match(/Android\s+([\d\.]+)/i);e.version=n&&n[1]}else e.type=void 0;return e}(),eventMap:{},uid:0,getDeviceId(e){this.deviceRouter("getDeviceId",null,e)},deviceRouter(e,i,t,n){if(!this.isJSBridgeAPPDemo)return console.log("isJSBridgeAPPDemo：false"),!1;"ios"==this.device.type?this.iosMethod(e,i,t,n):this.device.type==d?this.androidMethod(e,i,t,n):console.error("请在native端使用此方法："+e)},iosMethod(e,i,t,d){const n=this.uid;t&&(this.eventMap[e+n]=i=>{t&&t(i),d||delete this.eventMap[e+n]},this.uid++);try{const d={nativeMethod:e};t&&(d.callback=e+n),i&&(d.params=JSON.stringify(i)),window.webkit.messageHandlers.JSBridge.postMessage(d)}catch(s){console.error(JSON.stringify(s)),console.error("需要在ios设备内使用WKWebView")}},androidMethod(e,i,t,d){const n=this.uid;t&&(this.eventMap[e+n]=()=>{t&&t(data),d||delete this.eventMap[e+n]},this.uid++);try{i&&t?JSBridgeAndroid[e](JSON.stringify(i),e+n):i?JSBridgeAndroid[e](JSON.stringify(i)):t?JSBridgeAndroid[e](e+n):JSBridgeAndroid[e]()}catch(s){console.error(JSON.stringify(s)),console.error("需要在android设备内使用JSBridge功能，无全局对象JSBridgeAndroid")}},openPage(e){this.deviceRouter("openPage",{url:e},null),this.isJSBridgeAPPDemo||(location.href=e)},popPage(e){e||(e=1),this.deviceRouter("popPage",{step:e},null),this.isJSBridgeAPPDemo||(1==e?history.back():history.go(-e))},hideTitle(){this.deviceRouter("hideTitle",null,null)},showTitle(){this.deviceRouter("showTitle",null,null)},addResumeEvent(e){var i;this.deviceRouter("addResumeEvent",null,e,!0),this.isJSBridgeAPPDemo||(i=e,window.addEventListener("pageshow",(function(e){e.persisted&&i(e)}),!1),document.addEventListener("visibilitychange",(function(e){"visible"!=document.visibilityState&&document.hidden||i(e)}),!1),document.addEventListener("webkitVisibilitychange",(function(e){"visible"!=document.webkitVisibilityState&&document.webkitHidden||i(e)}),!1))},addPauseEvent(e){var i;this.deviceRouter("addPauseEvent",null,e,!0),this.isJSBridgeAPPDemo||(i=e,window.addEventListener("pagehide",(function(e){e.persisted&&i(e)}),!1),document.addEventListener("visibilitychange",(function(e){("hidden"==document.visibilityState||document.hidden)&&i(e)}),!1),document.addEventListener("webkitVisibilitychange",(function(e){("hidden"==document.webkitVisibilityState||document.webkitHidden)&&i(e)}),!1))}};console.log("JSBridge",n),e("default",(()=>i("div",{children:"JSBridgeComponent"})))}}}));
