!function(){var t=document.createElement("style");t.innerHTML=".content{display:flex}.canvas-wrapper{position:relative;width:300px;height:600px}.off-canvas{position:absolute;left:0;right:0;top:0;bottom:0;z-index:-1;visibility:hidden}.my-canvas{position:absolute;left:0;right:0;top:0;bottom:0;z-index:1;visibility:visible}\n",document.head.appendChild(t),System.register(["./index-legacy.9b48566a.js"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.r,n=t.a,i=t.j}],execute:function(){let a,o=0,s=0;let l=new Map;t("default",(()=>{const t=e.exports.useRef(null),c=(t,e)=>{const n=a.getImageData(t,e,1,1);var i=n.data[0],o=n.data[1],s=n.data[2];return"#"+(i<<16|o<<8|s).toString(16).padStart(6,"0")},r=async()=>{(()=>{a=t.current.getContext("2d",{willReadFrequently:!0});const{left:e,top:n}=t.current.getBoundingClientRect();o=e,s=n})(),await new Promise(((e,n)=>{const i=new Image;i.src="https://fullapp.oss-cn-beijing.aliyuncs.com/pic/264121695293447_.pic.jpg",i.crossOrigin="Anonymous",i.onload=()=>{a.drawImage(i,0,0,t.current.width,t.current.height),e(!0)}})),await(async()=>{let e=t.current.width,n=t.current.height,i=Date.now();for(let t=0;t<e-1;t++)for(let e=0;e<n-1;e++){let n=c(t,e);if(l.has(n))l.get(n).add([t,e]);else{let i=new Set;i.add([t,e]),l.set(n,i)}}let a=Date.now();console.log("cost time ",a-i),console.log(l)})()};e.exports.useEffect((()=>{r()}),[]);const d=(t,e)=>{a.beginPath();let n=function(t,e){var n=!1;"#"==t[0]&&(t=t.slice(1),n=!0);var i=parseInt(t,16),a=(i>>16)+e;a>255?a=255:a<0&&(a=0);var o=(i>>8&255)+e;o>255?o=255:o<0&&(o=0);var s=(255&i)+e;return s>255?s=255:s<0&&(s=0),(n?"#":"")+(s|o<<8|a<<16).toString(16)}(t,50);console.log("onClick hexColor",t,n,e.size),a.fillStyle=n;for(let i of e){const[t,e]=i;a.rect(t,e,1,1)}a.fill(),a.closePath()};return n("div",{children:[i("section",{}),i("section",{className:"content",children:i("div",{className:"canvas-wrapper",children:i("canvas",{onClick:t=>{let e=t.clientX-o,n=t.clientY-s;const i=c(e,n);if(l.has(i)){let t=l.get(i);d(i,t)}},className:"my-canvas",width:300,height:600,ref:t})})})]})}))}}}))}();
