var d=Object.defineProperty;var p=(e,t,s)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var u=(e,t,s)=>(p(e,typeof t!="symbol"?t+"":t,s),s);import{_ as g}from"./vue.min.61b72c63.js";import{r as f,a as r,j as l}from"./index.19731877.js";let a=null;class x{constructor(t={}){u(this,"commit",(t,s)=>{console.log("commit this",this),this.mutations[t](s)});this.vm=new a({data:{state:t.state}});let s=t.getters||{};this.getters={},Object.keys(s).forEach(i=>{Object.defineProperty(this.getters,i,{get:()=>s[i](this.state)})});let o=t.mutations||{};this.mutations={},Object.keys(o).forEach(i=>{this.mutations[i]=c=>{o[i](this.state,c)}});let h=t.actions||{};this.actions={},Object.keys(h).forEach(i=>{this.actions[i]=c=>{console.log("action this",this),h[i](this,c)}})}dispatch(t,s){this.actions[t](s)}get state(){return this.vm.state}}const y=function(e){a=e,a.mixin({beforeCreate(){this.$options&&this.$options.store?this.$store=this.$options.store:this.$store=this.$parent&&this.$parent.$store}})};let m={Store:x,install:y};g.use(m);var n=new m.Store({state:{num:0},getters:{getNum(e){return e.num+1}},mutations:{incre(e,t){e.num+=t}},actions:{actionTest({commit:e},t){setTimeout(()=>{e("incre",t)},2e3)}}});window.store=n;const j=()=>{const[e,t]=f.exports.useState(0),s=()=>{n.mutations.incre(10),t(e+1)},o=()=>{n.actions.actionTest(20),setTimeout(()=>{t(e+1)},3e3)};return r("div",{style:{padding:"10px"},children:[r("div",{children:["store.state: ",n.state.num]}),r("div",{children:["store.getters: ",n.getters.getNum]}),r("div",{children:[l("button",{onClick:s,children:"sync incre"}),l("button",{onClick:o,children:"async incre"})]})]})};export{j as SimpleVuex,j as default};
