import{r as t,a,j as f}from"./index.488414b2.js";const d=(...e)=>{},i=e=>{const r=t.exports.useRef();return r.current=e,r},g=(e,{onEnd:r=d,countdownCall:s=d})=>{const p=i(r),x=i(s),[n,u]=t.exports.useState(0);let o=t.exports.useRef(null),c=t.exports.useRef(!1);return t.exports.useEffect(()=>()=>{o.current&&clearInterval(o.current),c.current=!1},[]),t.exports.useEffect(()=>{c.current&&n!=e&&(x.current(n),n==0&&(p.current(n),c.current=!1))},[n,e]),{start:t.exports.useCallback(()=>{c.current=!0,u(e),o.current=setInterval(()=>{u(l=>(l==1&&o.current&&clearInterval(o.current),l-1))},1e3)},[e]),count:n}},w=()=>{const{start:e,count:r}=g(10,{countdownCall(s){console.log("countdownCall: ",s)},onEnd:s=>{console.log("onEnd: ",s)}});return a("div",{children:[f("div",{children:"You can see something the console."}),f("div",{children:a("button",{onClick:e,children:["start count: ",r]})})]})};export{w as default};
