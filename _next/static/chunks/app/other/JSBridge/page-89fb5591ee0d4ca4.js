(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2806],{945:(e,i,t)=>{Promise.resolve().then(t.bind(t,9414))},9414:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>o});var d=t(5155);let n="";"undefined"!=typeof navigator&&(n=navigator.userAgent);let s="android";console.log("JSBridge",{isJSBridgeAPPDemo:!!/JSBridgeDemoUserAgent/.test(n),device:function(){let e={type:null,version:null};if(/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(n)){e.type="ios";let i=/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/.exec(n);i&&i[0]&&(e.version=i[0].replace(/_/g,"."))}else if(/Android/i.test(n)){e.type=s;let i=n.match(/Android\s+([\d\.]+)/i);e.version=i&&i[1]}else e.type=void 0;return e}(),eventMap:{},uid:0,getDeviceId(e){this.deviceRouter("getDeviceId",null,e)},deviceRouter(e,i,t,d){if(!this.isJSBridgeAPPDemo)return console.log("isJSBridgeAPPDemo：false"),!1;"ios"==this.device.type?this.iosMethod(e,i,t,d):this.device.type==s?this.androidMethod(e,i,t,d):console.error("请在native端使用此方法："+e)},iosMethod(e,i,t,d){let n=this.uid;t&&(this.eventMap[e+n]=i=>{t&&t(i),d||delete this.eventMap[e+n]},this.uid++);try{let d={nativeMethod:e};t&&(d.callback=e+n),i&&(d.params=JSON.stringify(i)),window.webkit.messageHandlers.JSBridge.postMessage(d)}catch(e){console.error(JSON.stringify(e)),console.error("需要在ios设备内使用WKWebView")}},androidMethod(e,i,t,d){let n=this.uid;t&&(this.eventMap[e+n]=()=>{t&&t(data),d||delete this.eventMap[e+n]},this.uid++);try{i&&t?JSBridgeAndroid[e](JSON.stringify(i),e+n):i?JSBridgeAndroid[e](JSON.stringify(i)):t?JSBridgeAndroid[e](e+n):JSBridgeAndroid[e]()}catch(e){console.error(JSON.stringify(e)),console.error("需要在android设备内使用JSBridge功能，无全局对象JSBridgeAndroid")}},openPage(e){this.deviceRouter("openPage",{url:e},null),this.isJSBridgeAPPDemo||(location.href=e)},popPage(e){e||(e=1),this.deviceRouter("popPage",{step:e},null),this.isJSBridgeAPPDemo||(1==e?history.back():history.go(-e))},hideTitle(){this.deviceRouter("hideTitle",null,null)},showTitle(){this.deviceRouter("showTitle",null,null)},addResumeEvent(e){this.deviceRouter("addResumeEvent",null,e,!0),!this.isJSBridgeAPPDemo&&(window.addEventListener("pageshow",function(i){i.persisted&&e(i)},!1),document.addEventListener("visibilitychange",function(i){"visible"!=document.visibilityState&&document.hidden||e(i)},!1),document.addEventListener("webkitVisibilitychange",function(i){"visible"!=document.webkitVisibilityState&&document.webkitHidden||e(i)},!1))},addPauseEvent(e){this.deviceRouter("addPauseEvent",null,e,!0),!this.isJSBridgeAPPDemo&&(window.addEventListener("pagehide",function(i){i.persisted&&e(i)},!1),document.addEventListener("visibilitychange",function(i){("hidden"==document.visibilityState||document.hidden)&&e(i)},!1),document.addEventListener("webkitVisibilitychange",function(i){("hidden"==document.webkitVisibilityState||document.webkitHidden)&&e(i)},!1))}});let o=()=>(0,d.jsx)("div",{children:"JSBridgeComponent 请观察控制台"})}},e=>{var i=i=>e(e.s=i);e.O(0,[8441,1517,7358],()=>i(945)),_N_E=e.O()}]);