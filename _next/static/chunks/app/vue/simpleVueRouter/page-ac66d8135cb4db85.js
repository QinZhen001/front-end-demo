(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6261],{6486:(e,t,r)=>{Promise.resolve().then(r.bind(r,9440))},9440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var o=r(5155),s=r(6237),i=r.n(s),n=r(2115);let h={props:{to:Object||String},render(e){console.log("router-link render",this===this._self);let t=this._self._root._router.isHashMode;return this.to,"object"==typeof this.to&&this.to.path,e("a",{attrs:{href:(t?"#":"")+this.to}},this.$slots.default)}},a={render(e){let t=this._self._root._router.currentObj.path,r=this._self._root._router.routesMap[t];return console.log("router-view render",r),r?e(r):e()}};class u{initListener(){let e=(this.isHashMode?location.hash.slice(1):location.pathname)||"/",t=this.isHashMode?"hashchange":"popstate";window.addEventListener("load",()=>{this.currentObj.path=e}),window.addEventListener(t,()=>{this.currentObj.path=(this.isHashMode?location.hash.slice(1):location.pathname)||"/"})}createMap(e){return e.reduce((e,t)=>(e[t.path]=t.component,e),{})}constructor(e){this.mode=e.mode||"hash",this.routes=e.routes||[],this.isHashMode="hash"===this.mode,this.routesMap=this.createMap(this.routes),this.currentObj={path:""},this.initListener()}}u.install=function(e){e.mixin({beforeCreate(){this.$options&&this.$options.router?(this._root=this,this._router=this.$options.router,e.util.defineReactive(this,"_route",this._router.currentObj)):this._root=this.$parent&&this.$parent._root,Object.defineProperty(this,"$router",{get(){return this._root._router}}),Object.defineProperty(this,"$route",{get(){return this._root._route}})}}),e.component("router-link",h),e.component("router-view",a)},i().use(u);let l=new u({routes:[{path:"/vue/simple-vue-router/foo",component:{template:"<div>foo</div>"}},{path:"/vue/simple-vue-router/bar",component:{template:"<div>bar</div>"}}]}),c=()=>{(0,n.useEffect)(()=>{e()},[]);let e=()=>{let e=new(i())({el:"#app",router:l,mounted(){console.log("created"),console.log("this.$route",this.$route),console.log("this.$router",this.$router)}});window.vue=e,console.log("vue",e)};return(0,o.jsx)("div",{children:(0,o.jsxs)("div",{id:"app",children:[(0,o.jsx)("div",{children:"simple-vue-router"}),(0,o.jsxs)("div",{className:"space-x-2",children:[(0,o.jsx)("span",{className:"border-r border-slate-300 pr-2 text-blue-500",children:(0,o.jsx)("router-link",{to:"/vue/simple-vue-router/foo",children:"Go to Foo"})}),(0,o.jsx)("span",{className:"text-blue-500",children:(0,o.jsx)("router-link",{to:"/vue/simple-vue-router/bar",children:"Go to Bar"})})]}),(0,o.jsx)("div",{className:"mb-2 mt-2 border-t border-slate-300",children:"router-view"}),(0,o.jsx)("router-view",{})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[6237,8441,1517,7358],()=>t(6486)),_N_E=e.O()}]);