(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7478],{4589:(e,t,n)=>{Promise.resolve().then(n.bind(n,8867))},8867:(e,t,n)=>{"use strict";let r,l,a,i;n.r(t),n.d(t,{default:()=>d});var u=n(5155),o=n(2115);let c=0,d=()=>{let e=(0,o.useRef)(null),t=(0,o.useRef)(null);return(0,o.useEffect)(()=>{console.log("ref",e),e.current&&(i=(a=new AudioContext).createBufferSource(),e.current.onchange=function(e){var n;let u=null===(n=e.target)||void 0===n?void 0:n.files[0],o=new FileReader;o.readAsArrayBuffer(u),o.onload=async e=>{let n=e.target.result;console.log("audioData",n);let u=await a.decodeAudioData(n);i.buffer=u,(l=a.createAnalyser()).fftSize=512,i.connect(l),l.connect(a.destination),r=new Uint8Array(c=l.frequencyBinCount),i.start(),function e(){var n,a;let i,u,o,d;requestAnimationFrame(e),l.getByteFrequencyData(r);let f=t.current.getContext("2d"),s=(null===(n=t.current)||void 0===n?void 0:n.width)||0,v=(null===(a=t.current)||void 0===a?void 0:a.height)||0;null==f||f.clearRect(0,0,s,v);for(let e=0,t=0;e<c;e++)i=r[e],u=s/c*2,o=i+e/c*25,d=e/c*250,f.fillStyle="rgb("+o+","+d+",50)",null==f||f.fillRect(t,v-i,u,i),t+=u+2}()}})},[]),(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{id:"audioFile",ref:e,type:"file",accept:"audio/*"}),(0,u.jsx)("canvas",{ref:t,width:"500",height:"300"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1517,7358],()=>t(4589)),_N_E=e.O()}]);